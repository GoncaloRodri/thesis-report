%!TEX root = ../template.tex
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%% chapter5.tex
%% NOVA thesis document file
%%
%% Chapter with lots of dummy text
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

\typeout{NT FILE chapter6.tex}%

\chapter{Conclusions}\label{cha:conclusions}

This dissertation explored the day-to-day challenges faced by populations in regions with limited access to the internet and under oppressive regimes. This work focused on the Tor network, a widely used open source tool that tries to provide anonymity and privacy to its users, by routing their traffic through a series of geographically distributed relays. As attackers become more sophisticated, and machine learning techniques are increasingly employed to compromise users' anonymity, it is crucial to find effective countermeasures to enhance the unobservability of internet users. As mentioned previously, fingerprinting and correlation attacks are becoming more prevalent, and therefore is essential to develop or improve solutions that can mitigate these threats.

In response to these growing concerns, we proposed and implemented two independent features in the Tor source code, aimed at enhancing the unobservability of its users. The first feature, Packet Padding Cells, leverages a randomized response Differential Privacy algorithm to generate false cells and introduce noise into TLS packets size patterns. The second feature, Jitter Induction Schedulers, introduced 2 schedulers to Tor by extending the already existing ones and by adding a pseudo-random jitter to the packet scheduling process based on mathematical distributions such as Poisson and Exponential, therefore introducing noise into TLS packets time intervals. By reshaping and perturbing the traffic patterns between every circuit hop, these features aim to weaken the effectiveness of traffic analysis techniques, such as fingerprinting and correlation attacks. Overall, the combined solution focused on modifying 3 Tor traffic aspects: traffic packets size patterns, traffic packets time intervals patterns, and the Differential Privacy guarantees provided by Tor to their users, through our prototype. The proposed solution achieved the desired configurability and compactibility, allowing users to tailor the features to their specific needs and threat models, while ensuring compatibility with the existing Tor network.

Through extensive experimental validation and evaluation, we have confirmed that the proposed solution effectively provides Differential Privacy guarantees to its users, while maintaining acceptable performance levels in terms of latency, throughput and total time. The performance evaluation was conducted in both emulated local and distributed Tor networks, encompassing over 170 different configurations. These results demonstrated that the PPC feature did not introduce significant latency overhead, while the JIS feature exhibited a more pronounced impact on latency, but did not significantly affect throughput or total time. While combined, the results also showed that, in general, the PPC feature impacted the performance greater than the JIS feature. 

The unobservability evaluation, conducted using 9 different machine learning models, 3 test case scenarios, a dataset of 100 websites and 50 samples per website, generating a total of 5000 samples per test scenario, introduced a comprehensive analysis of the prototype's resistance against website fingerprinting attacks and the impact of each feature on the overall unobservability. The results indicated that the PPC feature was the least effective in enhancing unobservability, while the JIS feature and the combined solution demonstrated significant improvements in reducing the accuracy of machine learning models in identifying visited websites. However, the overall performance across all scenarios remained consistently low, suggesting that the models faced difficulties in accurately identifying websites from the collected traces. Consequently, the findings not only reinforce the strong unobservability properties of our proposed solution but also highlight the robustness of the original Tor software. At the same time, they may also reflect limitations in the sufficiency of the collected traces for effective model training and further investigation is needed to clarify these findings and to explore potential improvements to the proposed features. 

Finally, the formal validation of the Differential Privacy properties of the proposed solution confirmed that the before mentioned traffic characteristics, packet size patterns and packet time intervals patterns, were effectively modified to provide Differential Privacy guarantees to Tor users. Nevertheless, it is also important to note that Differential Privacy properties, such as sequential composition, have to be taken into account when using the proposed features, especially over a long period of time, considering that the privacy budget may be exhausted, therefore compromising the users' anonymity.

In summary, this dissertation presented a novel approach to enhancing the unobservability of Tor users through the implementation of two independent features in the Tor source code. The proposed solution demonstrated promising results in terms of performance and unobservability, while also providing Differential Privacy guarantees and a fully configurable and compatible new version of Tor source code. However, further research and experimentation are needed to fully understand the implications of these features and to optimize their effectiveness in real-world scenarios.


\section{Main Contributions}\label{sec:main_conclusions}

Our main contribution is the extension of Tor source code with 2 independent features focused on enhancing its unobservability capabilities. The prototype can be used by the scientific community and practitioners to investigate the developed features and extend the solution with more mathematical distributions and Differential Privacy algorithms, for example. 

Also, Tor network users can deploy their relays or use the developed solution in the already existing Tor network, as the solution is fully compactible. Our additional contributions include  (\emph{i}) a comprehensive analysis of both Packet Padding Cells and Jitter Induction Schedulers features' performance, combined or separately, in more than 170 testing configurations on an emulated local Tor network and over 170 testing configurations on a distributed Tor network, assessing latency, throughput and total time conditions over multiple different real-world conditions; (\emph{ii}) a detailed study of the performance of 9 machine learning models and the resistance of the prototype against website fingerprinting attacks; and (\emph{iii}) formal validation of the Differential Privacy properties of the developed prototype and the implications of such properties in the Tor network, for both their users and hosts.

\section{Future Work}\label{sec:future_work}

The work developed in this thesis opens several promising avenues for future research and development. Potential directions include, but are not limited to, the following:
\begin{itemize}
    \item \textbf{Further demonstration of the solution}: Engaging with the Tor community through forums and discussions to present the developed features, gather feedback, and explore opportunities for integration into the official Tor software.
    \item \textbf{Extension of the Packet Padding Cells feature}: Enhancing the current implementation to generate padding cells not only after receiving a Tor cell, but also during periods of inactivity. This modification has the potential to further strengthen the system's Differential Privacy guarantees.
    \item \textbf{Exploration of additional mathematical distributions}: Investigating the use of other mathematical distributions for jitter induction to determine if they can provide improved unobservability or performance characteristics compared to the currently implemented Poisson and Exponential distributions.
    \item \textbf{Evaluation in realistic distributed environments}: Performing experimental validation on a geographically distributed test bench with relays spanning multiple continents. This approach aims to more closely mimic the real-world Tor network, providing a more accurate assessment of the proposed features' performance and unobservability in practical scenarios.
    \item \textbf{Broader unobservability testing}: Conducting unobservability evaluations under a wider range of configurations and trace samples to gain deeper insights into which settings yield the most robust protection.
    \item \textbf{Expansion of machine learning-based unobservability experiments}: Extending the experimental framework to encompass a broader variety of machine learning algorithms, taking into account both supervised and unsupervised learning techniques. This expansion aims to provide a more comprehensive understanding of the prototype's resilience against diverse fingerprinting attacks.
\end{itemize}